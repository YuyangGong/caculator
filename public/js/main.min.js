/*! A simple caculator created by yuyang */
!function(t){function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var n={};return r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=5)}([function(t,r,n){"use strict";var e={isAngle:!0,isArgStrict:!1};t.exports=e},function(t,r,n){"use strict";function e(t){function r(t){for(var r=t.length,n=[],e=[],i="",f=0,d=void 0,v=void 0,M=0;M<r;M++)if(d=t[M],"π"===d){if(/[(,+\-*\/%^]/.test(i))/[\-+]/.test(lastvalue)&&v?(v=!1,i+="π"):i="π";else{if(""!==i)throw new Error("18, π, "+M);i="π"}f=0}else if(w(d)){if(""===i)continue;f++}else if(/\d/.test(d)){if(h(i)||c(i)){if(f)throw new Error("53, "+d+", "+M);i+=d}else if(l(i))v&&/[+\-]/.test(i)?(v=!1,i+=d):i=d;else{if(""!==i)throw new Error("19, "+d+", "+M);i=d}f=0}else if(/\./.test(d)){if(!/^[+\-]?\d+$/.test(i)||f)throw h(i)?new Error("51, ., "+M):new Error("52, ., "+M);i+="."}else if(c(d)){if(/^[a-z\d]+$/i.test(i)){if(f)throw new Error("53, "+d+", "+(M-f));if(/^\d$/.test(i))throw new Error("33, "+i+", "+(M-1));i+=d}else{if(!l(i)&&""!==i)throw new Error("61, "+d+", "+M);v&&/[+\-]/.test(i)?(v=!1,i+=d):i=d}f=0}else if("("===d){if(/^\(|,$/.test(i)||""===i)n.unshift(d);else if(l(i))v&&/^[+\-]$/.test(i)?(v=!1,n.unshift(i+d)):n.unshift(d);else{if(!c(i))throw new Error("14, "+d+", "+M);if(!p(i))throw new Error("32, "+i+", "+(M-f-i.length));n.unshift(i+d)}i=d,f=0}else if(","===d){if(!n.some(function(t){return/\(/.test(t)}))throw new Error("15, "+d+", "+M);if(!(c(i)||h(i)||/^(π|\))$/.test(i)))throw new Error("15, "+d+", "+M);if(c(i)||"π"===i){if(!g(i))throw new Error("31, "+i+", "+(M-f-i.length));e.unshift(s[i])}else h(i)&&e.unshift(i);for(;n.length&&!/[(,]/.test(n[0]);){var y=e.shift(),E=e.shift();e.unshift(a[n.shift()](E,y))}n.unshift(d),i=d,f=0}else if(")"===d){if(h(i)||c(i)||/(π|\))$/.test(i)){if(h(i))e.unshift(i);else if(")"!==i){if(!g(i))throw new Error("31, "+i+", "+(M-f-i.length));e.unshift(s[i])}var b=[];if(!n.some(function(t){return/\(/.test(t)}))throw new Error("16, "+d+", "+M);for(;;)if(/^[+\-*\/%^]$/.test(n[0]))e.unshift(a[n.shift()].apply(null,[e.shift(),e.shift()].reverse()));else{if(!/^,$/.test(n[0])){if(/\($/.test(n[0])){var $=!/[+\-]/.test(n[0][0])||"+"===n[0][0];if(/[+\-]/.test(n[0][0])&&(n[0]=n[0].slice(1)),b.unshift(+e.shift()),1!==n[0].length)try{e.unshift(o[n[0].slice(0,-1)].apply(null,b)*($?1:-1))}catch(t){throw new Error(t.message+", "+M)}else e.unshift(b.pop()*($?1:-1));n.shift();break}throw"unknow Error"}n.shift(),b.unshift(+e.shift())}for(;n.length&&!/\(|,/.test(n[0]);){var m=e.shift(),x=e.shift();e.unshift(a[n.shift()](x,m))}}else{if("("!==i)throw","===i?(console.log(i,f),new Error("15, ，, "+(M-f-1))):new Error("16, "+d+", "+M);if(1!==n[0].length)try{e.unshift(o[n[0].slice(0,-1)]())}catch(t){throw new Error(t.message+", "+M)}n.shift()}i=d,f=0}else{if(!l(d))throw new Error("11, "+d+", "+M);if(/^\(?,?$/.test(i)||""===i){if(/[+\-]/.test(d)){v=!0,i=d,f=0;continue}throw new Error("12, "+d+", "+(start+M))}if(h(i))e.unshift(i);else if(c(i)||"π"===i){if(!g(i))throw new Error("31, "+i+", "+(M-i.length-f));e.unshift(s[i])}else if(")"!==i)throw new Error("41, "+d+", "+M);for(;n.length&&!/\(|,/.test(n[0])&&!u(d,n[0]);){var A=e.shift(),z=e.shift();e.unshift(a[n.shift()](z,A))}n.unshift(d),i=d,f=0}if(l(i))throw new Error("17, "+i+", "+(r-1-f));if(h(i))e.unshift(i);else if(c(i)||"π"===i){if(!g(i))throw new Error("31, "+i+", "+(M-f-i.length));e.unshift(s[i])}for(;n.length&&!/\(|,/.test(n[0]);){var S=e.shift(),C=e.shift();e.unshift(a[n.shift()](C,S))}if(n.length||1!==e.length){if(/^\s*$/.test(t))throw new Error("12");throw new Error("71")}return e[0]}var n=void 0;try{n=r(t)}catch(t){n=t.message.split(/\s*,\s*/)}return"object"===("undefined"==typeof n?"undefined":i(n))?n:+(+n).toFixed(15)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(4),s=n(3),f=n(0),a={"+":function(t,r){return+t+ +r},"-":function(t,r){return t-r},"*":function(t,r){return t*r},"/":function(t,r){return t/r},"%":function(t,r){return t%r},"^":function(t,r){return Math.pow(t,r)}},u=function(t,r){var n={"(":4,"^":3,"*":2,"/":2,"%":1,"+":0,"-":0};return n[t]>n[r]},h=function(t){return/^[+\-]?\d+(\.\d*)?$/.test(t)},c=function(t){return/^[a-z][a-z\d]*$/i.test(t)},l=function(t){return/^[+\-\*\/^%(,]$/.test(t)},w=function(t){return/\s/.test(t)},g=function(t){return!!s[t]},p=function(t){return!!o[t]},d=function(t,r){return/^[a-z][a-z\d]*$/i.test(t)&&h(r)?!s[t]||[81]:/^[a-z_]\w*$/i.test(t)?[83]:[82]},v=function(t,r){return s[t]=+r},M=function(t,r){if(/^[a-z][a-z\d]*$/i.test(t)){if(o[t])return[84];var n=e(r.replace(/\s/g,"").replace(/\b[a-z][a-z\d]*(?!\(|\w)/gi,function(t){return o[t]?o[t]:1}));return"number"==typeof n||[86]}return[85]},y=function(t,r){function n(){for(var n=arguments.length,o=Array(n),f=0;f<n;f++)o[f]=arguments[f];var a;if(o.length<i.length)throw new Error("21, "+t);if(o.length>i.length&&s)throw new Error("22, "+t);if(a=e(r.replace(RegExp("\\b("+i.join("|")+")\\b","g"),function(t){return o[i.indexOf(t)]||t})),"number"!=typeof a)throw new Error("unknow error at custom method");return a}var i=[],s=f.isArgStrict;r=r.replace(/\s/g,"").replace(/\b[a-z][a-z\d]*(?!\(|\w)/g,function(t){return o[t]?o[t]:(i.indexOf(t)===-1&&i.push(t),t)}),o[t]=n};e.create={validMethod:M,createMethod:y,validVarible:d,createVarible:v},e.changeModel={changeArgModel:function(){return f.isArgStrict=+!f.isArgStrict},changeIsAngle:function(){return f.isAngle=!f.isAngle}},t.exports=e},function(t,r,n){"use strict";var e={11:"不合法的字符",12:"输入不能为空",13:"出现在最后的运算符",14:"不合法的左括号",15:"不合法的逗号",16:"不合法的右括号",17:"不合法的运算符",18:"π的使用错误",19:"数字使用错误",21:"传入方法中的参数过少",22:"传入方法中的参数过多",31:"常量名不存在",32:"方法名不存在",33:"变量名不能以数字开头",41:"重复的运算符号",51:"重复的小数点, 数字中小数点只能出现一次",52:"非法的小数点, 小数点只能出现在数字中间",53:"数字间不合法的空格",55:"π后不能接字母或者数字",61:"字母使用错误",71:"左右括号数量不匹配",81:"已经有同名常量存在",82:"不合法的常量名, 常量名只能由字母和数字组成，且只能由字母开头",83:"不合法的常量数值",84:"已经有同名方法存在",85:"不合法的方法名",86:"不合法的方法体"};t.exports=e},function(t,r,n){"use strict";var e={e:Math.E,"π":Math.PI};t.exports=e},function(t,r,n){"use strict";var e=n(0),i={abs:Math.abs,avg:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return i.sum.apply(null,r)/r.length},sin:Math.sin,cos:Math.cos,tan:Math.tan,cot:function(t){return Math.cos(t)/Math.sin(t)},acos:Math.acos,acosh:Math.acosh||function(t){return Math.log(t+Math.sqrt(t*t-1))},asin:Math.asin,atan:Math.atan,asinh:Math.asinh||function(t){return t===-(1/0)?t:Math.log(t+Math.sqrt(t*t+1))},atanh:Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},atan2:Math.atan2,logMutil:function(t,r){return Math.log(t)/Math.log(r)},cbrt:Math.cbrt||function(t){return Math.pow(t,1/3)},sum:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(t,r){return t+r},0)},pow:Math.pow,fac:function(t){return new Array(t+1).join("1").split("").reduce(function(t,r,n){return t*(n+1)},1)},HCF:function t(r,n){return r%n?t(n,r%n):n},log:Math.log10||function(t){i.log(t,10)},ln:Math.log,angle2rad:function(t){return 2*t*Math.PI/360},rad2angle:function(t){return 180*t/Math.PI}},o={abs:1,avg:2,sin:1,cos:1,tan:1,cot:1,acos:1,acosh:1,asin:1,atan:1,asinh:1,atanh:1,atan2:1,log:1,ln:1,logMutil:2,cbrt:1,sum:2,pow:2,fac:1,HCF:2},s=["sin","cos","tan","cot","acos","acosh","asin","atan","asinh","atanh","atan2"],f=function(t){var r=i[t],n=o[t],f=void 0;i[t]=function(){for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];var h=a.length,c=e.isAngle,l=e.isArgStrict;if(h<n)throw new Error("21, "+t);if(h>n&&l)throw new Error("22, "+t);return f=s.indexOf(t)>-1,r.apply(null,f&&c?a.map(function(t){return i.angle2rad(t)}):a)},i[t].argNum=n};for(var a in o)f(a);t.exports=i},function(t,r,n){"use strict";function e(t,r){var n,e,i=a(t.val());"number"==typeof i?(e=!0,i=i!==i?"运算结果为: NaN, 无意义的运算":/Infinity/.test(i.toString())?"无穷："+i.toString().replace(/Infinity/,"n"):"您的运算结果为："+i):(n=i[2],i=u[i[0]]+" "+(void 0!==i[1]?": "+i[1]:""),e=!1),s(r,e,i,n)}function i(t,r){var n=t.eq(0).val(),e=t.eq(1).val(),i=h.validVarible(n,e);i===!0?(h.createVarible(n,e),s(r,!0,"创建成功！常量名:"+n+" 常量值:"+e)):(i=u[i],s(r,!1,i))}function o(t,r){var n=t.eq(0).val(),e=t.eq(1).val(),i=h.validMethod(n,e);i===!0?(h.createMethod(n,e),s(r,!0,"创建成功！方法名:"+n+" 方法体:"+e)):(i=u[i],s(r,!1,i))}function s(t,r,n,e){if(r)t.removeClass("error").addClass("correct");else if(t.removeClass("correct").addClass("error"),void 0!==e){var i=$(".content-question").offset();$("#arrow").css({left:i.left+34+11*e,marginTop:i.top-30}).show()}t.text(n).slideDown("slow")}function f(t){var r=t.parent(),n=t.siblings("input"),s=t.siblings(".result");r.hasClass("content")?e(n,s):r.hasClass("constant")?i(n,s):o(n,s)}var a=n(1),u=n(2),h=a.create;$("button").click(function(){f($(this))}),$("input").keyup(function(t){13===t.keyCode?f($(this).parent().find("button")):($(".result").slideUp("slow"),$("#arrow").hide())}),$("input").click(function(){$(".result").slideUp("slow"),$("#arrow").hide()})}]);
//# sourceMappingURL=main.min.js.map